import{_ as c,c as l,d as e,a as s,e as p,b as t,w as o,r as i,o as u}from"./app-C07FBv5C.js";const k={};function r(d,n){const a=i("mcreference");return u(),l("div",null,[n[19]||(n[19]=e('<h1 id="ai驱动的java-spring-boot自动化测试" tabindex="-1"><a class="header-anchor" href="#ai驱动的java-spring-boot自动化测试"><span>AI驱动的Java Spring Boot自动化测试</span></a></h1><blockquote><p>探索人工智能如何革新Java Spring Boot应用的测试流程，提升开发效率与测试质量</p></blockquote><h2 id="📋-智能导航" tabindex="-1"><a class="header-anchor" href="#📋-智能导航"><span>📋 智能导航</span></a></h2><ul><li><a href="#ai%E6%B5%8B%E8%AF%95%E6%A6%82%E8%BF%B0">AI测试概述</a></li><li><a href="#%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86">核心技术原理</a></li><li><a href="#spring-boot%E5%90%84%E5%B1%82ai%E6%B5%8B%E8%AF%95">Spring Boot各层AI测试</a></li><li><a href="#%E4%B8%BB%E6%B5%81ai%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7">主流AI测试工具</a></li><li><a href="#%E5%AE%9E%E8%B7%B5%E6%A1%88%E4%BE%8B">实践案例</a></li><li><a href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">代码示例</a></li><li><a href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">最佳实践</a></li></ul><h2 id="ai测试概述" tabindex="-1"><a class="header-anchor" href="#ai测试概述"><span>AI测试概述</span></a></h2>',5)),s("p",null,[n[1]||(n[1]=t("随着人工智能技术的发展，AI正在深刻变革Java Spring Boot应用的测试方式。通过机器学习、自然语言处理和计算机视觉等技术，AI能够自动生成测试代码、识别潜在缺陷、优化测试覆盖，并在UI变化时自适应调整测试脚本。")),p(a,{link:"https://blog.csdn.net/QWQ123Q/article/details/146551481",index:"4"},{default:o(()=>n[0]||(n[0]=[t("4")])),_:1,__:[0]})]),n[20]||(n[20]=e('<h3 id="ai测试的主要优势" tabindex="-1"><a class="header-anchor" href="#ai测试的主要优势"><span>AI测试的主要优势</span></a></h3><ul><li><strong>提高开发效率</strong>：自动生成测试代码，减少手动编写时间</li><li><strong>提升测试质量</strong>：覆盖更多边缘场景和潜在缺陷</li><li><strong>降低维护成本</strong>：自动适配代码和UI变化</li><li><strong>优化测试覆盖</strong>：智能分析代码，识别高风险区域</li><li><strong>减少重复工作</strong>：自动化执行重复性测试任务</li></ul><h3 id="ai测试在spring-boot中的应用场景" tabindex="-1"><a class="header-anchor" href="#ai测试在spring-boot中的应用场景"><span>AI测试在Spring Boot中的应用场景</span></a></h3><table><thead><tr><th>测试类型</th><th>AI应用场景</th><th>预期收益</th></tr></thead><tbody><tr><td>单元测试</td><td>自动生成测试用例，覆盖边界条件</td><td>减少70%测试代码编写时间</td></tr><tr><td>集成测试</td><td>智能分析组件依赖，生成集成场景</td><td>提高测试覆盖度30%以上</td></tr><tr><td>API测试</td><td>自动发现接口，生成接口测试</td><td>快速适应接口变化</td></tr><tr><td>UI测试</td><td>智能识别元素，自动生成操作脚本</td><td>降低80%UI测试维护成本</td></tr></tbody></table><h2 id="核心技术原理" tabindex="-1"><a class="header-anchor" href="#核心技术原理"><span>核心技术原理</span></a></h2><h3 id="ai驱动测试的底层技术" tabindex="-1"><a class="header-anchor" href="#ai驱动测试的底层技术"><span>AI驱动测试的底层技术</span></a></h3><h4 id="_1-机器学习在测试生成中的应用" tabindex="-1"><a class="header-anchor" href="#_1-机器学习在测试生成中的应用"><span>1. 机器学习在测试生成中的应用</span></a></h4><p>AI驱动的测试生成主要依赖机器学习算法分析历史数据：</p><ul><li><strong>代码变更分析</strong>：通过Git历史记录学习代码变更与测试用例的关联性</li><li><strong>缺陷模式识别</strong>：分析Bug报告和测试日志，预测高风险代码区域</li><li><strong>用户行为建模</strong>：基于生产环境日志构建用户操作序列模型</li></ul><h4 id="_2-自然语言处理-nlp" tabindex="-1"><a class="header-anchor" href="#_2-自然语言处理-nlp"><span>2. 自然语言处理(NLP)</span></a></h4><p>将需求文档、用户故事自动转换为可执行的测试脚本，实现测试需求的自动化转化。</p><h4 id="_3-代码理解与生成" tabindex="-1"><a class="header-anchor" href="#_3-代码理解与生成"><span>3. 代码理解与生成</span></a></h4><p>AI模型通过深度学习技术理解代码结构和逻辑，生成符合测试规范的测试代码：</p><ul><li>分析方法签名、输入输出参数</li><li>识别业务逻辑和异常处理流程</li><li>生成符合JUnit、Mockito等框架规范的测试代码</li></ul>',14)),p(a,{link:"https://blog.csdn.net/zhanghongliu1122/article/details/140482993",index:"3"},{default:o(()=>n[2]||(n[2]=[t("3")])),_:1,__:[2]}),n[21]||(n[21]=e('<h4 id="_4-自愈测试机制" tabindex="-1"><a class="header-anchor" href="#_4-自愈测试机制"><span>4. 自愈测试机制</span></a></h4><p>针对UI变化和API变更，AI能够自动调整测试脚本，确保测试的持续有效性：</p><ul><li>智能元素定位策略</li><li>自动更新断言条件</li><li>动态调整测试流程</li></ul><h2 id="spring-boot各层ai测试" tabindex="-1"><a class="header-anchor" href="#spring-boot各层ai测试"><span>Spring Boot各层AI测试</span></a></h2><h3 id="_1-service层ai测试" tabindex="-1"><a class="header-anchor" href="#_1-service层ai测试"><span>1. Service层AI测试</span></a></h3><p>Service层测试专注于业务逻辑验证，不涉及Web层。AI生成的Service层测试通常包括：</p><ul><li>使用<code>@Mock</code>和<code>@InjectMocks</code>进行依赖模拟</li><li>测试各种边界情况和异常场景</li><li>验证返回值和异常处理逻辑</li></ul><p>AI能够自动分析Service类的依赖关系，识别可能的输入组合，并生成全面的测试用例。</p>',8)),p(a,{link:"http://m.toutiao.com/group/7512655470708933130/",index:"5"},{default:o(()=>n[3]||(n[3]=[t("5")])),_:1,__:[3]}),n[22]||(n[22]=e('<h3 id="_2-controller层ai测试" tabindex="-1"><a class="header-anchor" href="#_2-controller层ai测试"><span>2. Controller层AI测试</span></a></h3><p>Controller层测试验证HTTP请求处理逻辑。AI生成的Controller层测试会：</p><ul><li>利用MockMvc模拟HTTP请求</li><li>验证响应状态码和JSON内容</li><li>测试不同请求参数组合</li><li>自动生成API文档与测试用例的映射</li></ul><p>AI能够分析RESTful API的设计，自动生成符合API契约的测试用例。</p><h3 id="_3-repository层ai测试" tabindex="-1"><a class="header-anchor" href="#_3-repository层ai测试"><span>3. Repository层AI测试</span></a></h3><p>Repository层测试验证数据访问逻辑。AI生成的Repository层测试通常：</p><ul><li>使用H2等内存数据库</li><li>利用<code>@DataJpaTest</code>注解</li><li>自动生成数据准备和验证逻辑</li><li>测试复杂查询和事务处理</li></ul><p>AI可以分析实体关系和查询方法，生成覆盖各种数据场景的测试用例。</p><h3 id="_4-集成测试与端到端测试" tabindex="-1"><a class="header-anchor" href="#_4-集成测试与端到端测试"><span>4. 集成测试与端到端测试</span></a></h3><p>AI在集成测试中的应用包括：</p><ul><li>智能发现系统组件间的依赖关系</li><li>自动生成集成测试场景</li><li>利用Testcontainers创建真实测试环境</li><li>分析系统日志，识别集成问题</li></ul><h2 id="主流ai测试工具" tabindex="-1"><a class="header-anchor" href="#主流ai测试工具"><span>主流AI测试工具</span></a></h2><h3 id="_1-代码级ai测试工具" tabindex="-1"><a class="header-anchor" href="#_1-代码级ai测试工具"><span>1. 代码级AI测试工具</span></a></h3><table><thead><tr><th>工具名称</th><th>特点</th><th>适用场景</th></tr></thead><tbody><tr><td>通义灵码</td><td>快速生成简洁规范的测试代码</td><td>单元测试、集成测试</td></tr><tr><td>GitHub Copilot</td><td>基于上下文的智能代码建议</td><td>全类型测试代码生成</td></tr><tr><td>TabNine</td><td>实时代码补全与测试生成</td><td>快速测试原型开发</td></tr><tr><td>Amazon CodeWhisperer</td><td>支持多种测试框架的代码生成</td><td>企业级应用测试</td></tr></tbody></table><h3 id="_2-智能测试执行平台" tabindex="-1"><a class="header-anchor" href="#_2-智能测试执行平台"><span>2. 智能测试执行平台</span></a></h3>',15)),s("table",null,[n[16]||(n[16]=s("thead",null,[s("tr",null,[s("th",null,"工具名称"),s("th",null,"特点"),s("th",null,"适用场景")])],-1)),s("tbody",null,[s("tr",null,[n[6]||(n[6]=s("td",null,"TestCraft",-1)),s("td",null,[n[4]||(n[4]=t("基于AI技术的自动化测试工具，采用模型驱动架构，利用GPT-4自动生成测试想法和脚本，支持Cypress、Playwright等框架，提供无代码测试自动化能力和可访问性检查功能。")),p(a,{link:"http://m.toutiao.com/group/7450423529046950439/",index:"1"}),n[5]||(n[5]=t()),p(a,{link:"https://www.cnblogs.com/jinjiangongzuoshi/p/18573983",index:"4"})]),n[7]||(n[7]=s("td",null,"Web应用UI测试、自动化脚本生成、可访问性测试",-1))]),s("tr",null,[n[10]||(n[10]=s("td",null,"Applitools",-1)),s("td",null,[n[8]||(n[8]=t("集成计算机视觉技术的UI自动化测试工具，可跨平台检测细微UI差异，使用AI进行视觉测试和验证，能识别应用UI中的变化和异常。")),p(a,{link:"https://www.cnblogs.com/zgq123456/articles/18740813",index:"3"}),n[9]||(n[9]=t()),p(a,{link:"https://blog.csdn.net/weixin_44705554/article/details/146084787",index:"5"})]),n[11]||(n[11]=s("td",null,"UI视觉回归测试、跨平台UI一致性测试、视觉差异检测",-1))]),s("tr",null,[n[13]||(n[13]=s("td",null,"Mabl",-1)),s("td",null,[n[12]||(n[12]=t("自动化端到端测试工具，使用AI来维护测试，当应用程序UI变化时能自动调整测试，实现智能测试自我修复。")),p(a,{link:"https://blog.csdn.net/weixin_44705554/article/details/146084787",index:"5"})]),n[14]||(n[14]=s("td",null,"端到端测试自动化、UI变化自适应测试、测试维护自动化",-1))]),n[15]||(n[15]=s("tr",null,[s("td",null,"Tricentis Tosca"),s("td",null,"AI驱动的企业级测试自动化平台，提供全面的测试管理功能，支持复杂的企业应用测试场景，集成AI技术提升测试效率和覆盖率。"),s("td",null,"企业级测试管理、复杂应用测试、全生命周期测试自动化")],-1))])]),n[23]||(n[23]=e('<h3 id="_3-spring-boot专用ai测试工具" tabindex="-1"><a class="header-anchor" href="#_3-spring-boot专用ai测试工具"><span>3. Spring Boot专用AI测试工具</span></a></h3><table><thead><tr><th>工具名称</th><th>特点</th><th>适用场景</th></tr></thead><tbody><tr><td>飞算JavaAI</td><td>一键生成Spring Boot工程和测试</td><td>微服务模块测试</td></tr><tr><td>Diffblue Cover</td><td>自动生成JUnit测试用例</td><td>单元测试自动化</td></tr><tr><td>Selenium IDE AI</td><td>智能元素定位与脚本生成</td><td>Web UI测试</td></tr><tr><td>n8n</td><td>可视化工作流自动化平台，支持构建测试自动化流程</td><td>自动化测试编排、持续测试集成</td></tr></tbody></table><h4 id="n8n在测试自动化中的应用" tabindex="-1"><a class="header-anchor" href="#n8n在测试自动化中的应用"><span>n8n在测试自动化中的应用</span></a></h4><p>n8n (Nodemation)是一个开源的可视化工作流自动化工具，可以用于构建和执行自动化测试流程。它通过&quot;节点&quot;(Nodes)和&quot;连接&quot;(Connections)的方式，让测试工程师能够像搭建乐高积木一样创建复杂的测试自动化流程。</p><p><strong>n8n测试自动化的核心特点：</strong></p><ol><li><strong>可视化工作流设计</strong>：通过拖拽式界面设计测试流程，无需大量编写代码</li><li><strong>丰富的触发器选项</strong>： <ul><li><strong>Schedule Trigger</strong>：定时执行测试任务，适用于每日回归测试、定期健康检查</li><li><strong>Webhook Trigger</strong>：与CI/CD工具集成，在代码部署后自动触发测试</li><li><strong>Manual Trigger</strong>：提供测试参数输入界面，方便调试和手动执行</li></ul></li><li><strong>广泛的集成能力</strong>：支持与400+种工具无缝对接，包括数据库、API、消息队列等</li><li><strong>灵活的数据处理</strong>：内置数据转换、逻辑判断等节点，方便处理测试数据和结果</li></ol><p><strong>n8n在Spring Boot测试中的典型应用场景：</strong></p><ul><li>构建完整的端到端测试流程，从API调用到数据验证</li><li>实现定时的系统健康检查和监控告警</li><li>与CI/CD管道集成，自动执行测试套件</li><li>创建数据准备和清理的自动化工作流</li><li>搭建测试结果分析和报告生成系统</li></ul>',8)),p(a,{link:"http://m.toutiao.com/group/7549039451893269027/",index:"1"}),n[24]||(n[24]=t()),p(a,{link:"http://m.toutiao.com/group/7492625669038326283/",index:"3"}),n[25]||(n[25]=s("h2",{id:"实践案例",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#实践案例"},[s("span",null,"实践案例")])],-1)),n[26]||(n[26]=s("h3",{id:"案例1-ai生成spring-boot-crud接口测试",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#案例1-ai生成spring-boot-crud接口测试"},[s("span",null,"案例1：AI生成Spring Boot CRUD接口测试")])],-1)),n[27]||(n[27]=s("p",null,"通过AI工具自动分析Spring Boot的Controller、Service和Repository层代码，生成完整的CRUD测试用例。AI能够识别实体类、REST端点和业务逻辑，生成符合项目规范的测试代码。",-1)),p(a,{link:"https://blog.csdn.net/2502_92631100/article/details/149375794",index:"2"},{default:o(()=>n[17]||(n[17]=[t("2")])),_:1,__:[17]}),n[28]||(n[28]=e(`<h3 id="案例2-spring-boot微服务模块的ai测试" tabindex="-1"><a class="header-anchor" href="#案例2-spring-boot微服务模块的ai测试"><span>案例2：Spring Boot微服务模块的AI测试</span></a></h3><p>使用AI工具快速构建Spring Boot微服务模块的测试套件：</p><ol><li>自动分析微服务依赖关系</li><li>生成集成测试环境配置</li><li>创建服务间调用的模拟和验证逻辑</li><li>生成性能测试场景</li></ol><h3 id="案例3-智能回归测试选择" tabindex="-1"><a class="header-anchor" href="#案例3-智能回归测试选择"><span>案例3：智能回归测试选择</span></a></h3><p>AI通过分析代码变更，智能选择需要执行的测试用例，减少回归测试时间：</p><ol><li>分析代码变更影响范围</li><li>识别高风险变更区域</li><li>智能选择相关测试用例</li><li>优先执行高风险测试</li></ol><h2 id="代码示例" tabindex="-1"><a class="header-anchor" href="#代码示例"><span>代码示例</span></a></h2><h3 id="_1-ai生成的service层测试示例" tabindex="-1"><a class="header-anchor" href="#_1-ai生成的service层测试示例"><span>1. AI生成的Service层测试示例</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>mockito<span class="token punctuation">.</span></span><span class="token class-name">Mockito</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@ExtendWith</span><span class="token punctuation">(</span><span class="token class-name">MockitoExtension</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">UserServiceTest</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Mock</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@InjectMocks</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">User</span> mockUser<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@BeforeEach</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        mockUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        mockUser<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        mockUser<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        mockUser<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldReturnUserDetails_whenValidUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 配置mock行为</span></span>
<span class="line">        <span class="token function">when</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>mockUser<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 执行被测方法</span></span>
<span class="line">        <span class="token class-name">User</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证结果</span></span>
<span class="line">        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证交互</span></span>
<span class="line">        <span class="token function">verify</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldThrowException_whenUserNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 配置mock行为</span></span>
<span class="line">        <span class="token function">when</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">99L</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证异常</span></span>
<span class="line">        <span class="token function">assertThrows</span><span class="token punctuation">(</span><span class="token class-name">UserNotFoundException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> </span>
<span class="line">            <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> userService<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token number">99L</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证交互</span></span>
<span class="line">        <span class="token function">verify</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">99L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldSaveUser_whenValidUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 配置mock行为</span></span>
<span class="line">        <span class="token function">when</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>mockUser<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 执行被测方法</span></span>
<span class="line">        <span class="token class-name">User</span> savedUser <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>mockUser<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证结果</span></span>
<span class="line">        <span class="token function">assertNotNull</span><span class="token punctuation">(</span>savedUser<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span> savedUser<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证交互</span></span>
<span class="line">        <span class="token function">verify</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>mockUser<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9)),p(a,{link:"http://m.toutiao.com/group/7512655470708933130/",index:"5"},{default:o(()=>n[18]||(n[18]=[t("5")])),_:1,__:[18]}),n[29]||(n[29]=e(`<h3 id="_2-ai生成的controller层测试示例" tabindex="-1"><a class="header-anchor" href="#_2-ai生成的controller层测试示例"><span>2. AI生成的Controller层测试示例</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>mockito<span class="token punctuation">.</span></span><span class="token class-name">ArgumentMatchers</span><span class="token punctuation">.</span><span class="token static">any</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>mockito<span class="token punctuation">.</span></span><span class="token class-name">Mockito</span><span class="token punctuation">.</span><span class="token static">when</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>request<span class="token punctuation">.</span></span><span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>result<span class="token punctuation">.</span></span><span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@WebMvcTest</span><span class="token punctuation">(</span><span class="token class-name">UserController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">UserControllerTest</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">MockMvc</span> mockMvc<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@MockBean</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">User</span> mockUser<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@BeforeEach</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        mockUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        mockUser<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        mockUser<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        mockUser<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldReturnUser_whenGetUserCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 配置mock行为</span></span>
<span class="line">        <span class="token function">when</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>mockUser<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 执行HTTP请求并验证响应</span></span>
<span class="line">        mockMvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/api/users/1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">jsonPath</span><span class="token punctuation">(</span><span class="token string">&quot;$.id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">jsonPath</span><span class="token punctuation">(</span><span class="token string">&quot;$.name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">jsonPath</span><span class="token punctuation">(</span><span class="token string">&quot;$.email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldReturnNotFound_whenUserDoesNotExist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 配置mock行为</span></span>
<span class="line">        <span class="token function">when</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token number">99L</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">thenThrow</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserNotFoundException</span><span class="token punctuation">(</span><span class="token string">&quot;User not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 执行HTTP请求并验证响应</span></span>
<span class="line">        mockMvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/api/users/99&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token function">containsString</span><span class="token punctuation">(</span><span class="token string">&quot;User not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldCreateUser_whenPostRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 配置mock行为</span></span>
<span class="line">        <span class="token function">when</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>mockUser<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 执行HTTP请求并验证响应</span></span>
<span class="line">        mockMvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/api/users&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">contentType</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token constant">APPLICATION_JSON</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token string">&quot;{\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;email\\&quot;:\\&quot;john@example.com\\&quot;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">jsonPath</span><span class="token punctuation">(</span><span class="token string">&quot;$.id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">jsonPath</span><span class="token punctuation">(</span><span class="token string">&quot;$.name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-ai生成的repository层测试示例" tabindex="-1"><a class="header-anchor" href="#_3-ai生成的repository层测试示例"><span>3. AI生成的Repository层测试示例</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>orm<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span></span><span class="token class-name">DataJpaTest</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span><span class="token class-name">AutoConfigureTestDatabase</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span><span class="token class-name">AutoConfigureTestDatabase</span><span class="token punctuation">.</span><span class="token class-name">Replace</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Optional</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>assertj<span class="token punctuation">.</span>core<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token static">assertThat</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@DataJpaTest</span></span>
<span class="line"><span class="token annotation punctuation">@AutoConfigureTestDatabase</span><span class="token punctuation">(</span>replace <span class="token operator">=</span> <span class="token class-name">Replace</span><span class="token punctuation">.</span><span class="token constant">NONE</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">UserRepositoryTest</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Autowired</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldSaveAndRetrieveUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 准备测试数据</span></span>
<span class="line">        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Jane Doe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 保存用户</span></span>
<span class="line">        <span class="token class-name">User</span> savedUser <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证保存成功</span></span>
<span class="line">        <span class="token function">assertThat</span><span class="token punctuation">(</span>savedUser<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">assertThat</span><span class="token punctuation">(</span>savedUser<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isGreaterThan</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证查询结果</span></span>
<span class="line">        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> retrievedUser <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>savedUser<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">assertThat</span><span class="token punctuation">(</span>retrievedUser<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">assertThat</span><span class="token punctuation">(</span>retrievedUser<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldFindUsersByEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 准备测试数据</span></span>
<span class="line">        <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user1<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token class-name">User</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Jane Doe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user2<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 执行查询</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findByEmailContaining</span><span class="token punctuation">(</span><span class="token string">&quot;example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证查询结果</span></span>
<span class="line">        <span class="token function">assertThat</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasSize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">assertThat</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">extracting</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getEmail</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">shouldDeleteUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 准备测试数据</span></span>
<span class="line">        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Test User&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;test@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token class-name">User</span> savedUser <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Long</span> userId <span class="token operator">=</span> savedUser<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 执行删除</span></span>
<span class="line">        userRepository<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// 验证删除成功</span></span>
<span class="line">        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> deletedUser <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">assertThat</span><span class="token punctuation">(</span>deletedUser<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h2><h3 id="_1-ai测试与人工测试协同" tabindex="-1"><a class="header-anchor" href="#_1-ai测试与人工测试协同"><span>1. AI测试与人工测试协同</span></a></h3><ul><li><strong>AI生成，人工审查</strong>：AI生成的测试代码需要人工审查和优化</li><li><strong>重点关注</strong>：业务逻辑复杂、高风险区域的测试用例</li><li><strong>持续改进</strong>：根据测试结果反馈优化AI模型</li></ul><h3 id="_2-提升ai测试效果的技巧" tabindex="-1"><a class="header-anchor" href="#_2-提升ai测试效果的技巧"><span>2. 提升AI测试效果的技巧</span></a></h3><ul><li><strong>提供清晰的代码注释</strong>：帮助AI更好理解业务逻辑</li><li><strong>遵循代码规范</strong>：规范的代码结构提高AI生成质量</li><li><strong>提供测试示例</strong>：让AI学习项目的测试风格和模式</li><li><strong>增量训练</strong>：基于项目特定代码优化AI模型</li></ul><h3 id="_3-ai测试的实施策略" tabindex="-1"><a class="header-anchor" href="#_3-ai测试的实施策略"><span>3. AI测试的实施策略</span></a></h3><ol><li><strong>试点阶段</strong>：选择一个小型模块进行AI测试试点</li><li><strong>评估阶段</strong>：分析AI测试的覆盖率、准确性和效率</li><li><strong>推广阶段</strong>：逐步在更多项目和模块中应用AI测试</li><li><strong>整合阶段</strong>：将AI测试融入CI/CD流程</li></ol><h3 id="_4-注意事项与挑战" tabindex="-1"><a class="header-anchor" href="#_4-注意事项与挑战"><span>4. 注意事项与挑战</span></a></h3><ul><li><strong>过度依赖风险</strong>：避免完全依赖AI生成的测试代码</li><li><strong>测试质量保证</strong>：建立AI测试质量评估机制</li><li><strong>隐私与安全</strong>：注意代码隐私和数据安全问题</li><li><strong>持续维护</strong>：定期更新和优化AI测试模型</li></ul><h2 id="未来发展趋势" tabindex="-1"><a class="header-anchor" href="#未来发展趋势"><span>未来发展趋势</span></a></h2><p>随着AI技术的不断进步，Java Spring Boot的测试将迎来更多创新：</p><ol><li><strong>智能化测试编排</strong>：AI自动规划测试策略和执行顺序</li><li><strong>预测性测试</strong>：基于代码变更预测可能出现的缺陷</li><li><strong>自适应测试环境</strong>：根据测试需求自动配置测试环境</li><li><strong>多模态测试</strong>：结合文本、图像、语音等多种输入方式</li><li><strong>测试与开发一体化</strong>：AI在开发过程中实时生成测试反馈</li></ol><p>AI正在重塑Java Spring Boot应用的测试生态，为开发团队提供更高效、更智能的测试解决方案。通过合理应用AI测试技术，开发团队可以显著提升软件质量，加速交付周期，降低维护成本。</p>`,17))])}const m=c(k,[["render",r]]),b=JSON.parse('{"path":"/test/practices/ai-testing.html","title":"AI驱动的Java Spring Boot自动化测试","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1764125251000,"contributors":[{"name":"zhaomy","username":"zhaomy","email":"3036190149@qq.com","commits":1,"url":"https://github.com/zhaomy"}],"changelog":[{"hash":"f9663e6d1eb00b8a13355bfcea00478d02431b74","time":1764125251000,"email":"3036190149@qq.com","author":"zhaomy","message":"docs: 添加测试技术文档和示例文件"}]},"filePathRelative":"test/practices/ai-testing.md","excerpt":"\\n<blockquote>\\n<p>探索人工智能如何革新Java Spring Boot应用的测试流程，提升开发效率与测试质量</p>\\n</blockquote>\\n<h2>📋 智能导航</h2>\\n<ul>\\n<li><a href=\\"#ai%E6%B5%8B%E8%AF%95%E6%A6%82%E8%BF%B0\\">AI测试概述</a></li>\\n<li><a href=\\"#%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86\\">核心技术原理</a></li>\\n<li><a href=\\"#spring-boot%E5%90%84%E5%B1%82ai%E6%B5%8B%E8%AF%95\\">Spring Boot各层AI测试</a></li>\\n<li><a href=\\"#%E4%B8%BB%E6%B5%81ai%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7\\">主流AI测试工具</a></li>\\n<li><a href=\\"#%E5%AE%9E%E8%B7%B5%E6%A1%88%E4%BE%8B\\">实践案例</a></li>\\n<li><a href=\\"#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B\\">代码示例</a></li>\\n<li><a href=\\"#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5\\">最佳实践</a></li>\\n</ul>"}');export{m as comp,b as data};

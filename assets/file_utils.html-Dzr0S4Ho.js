import{_ as m,c as d,a as s,d as u,e as t,w as l,b as n,r as c,o as v}from"./app-DLF1zsiw.js";const b={},f={class:"table-of-contents"};function h(y,a){const e=c("router-link"),k=c("RouteLink"),i=c("Tip"),r=c("CodeTabs");return v(),d("div",null,[a[33]||(a[33]=s("h1",{id:"fileutils",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fileutils"},[s("span",null,"FileUtils")])],-1)),s("nav",f,[s("ul",null,[s("li",null,[t(e,{to:"#常用工具类库"},{default:l(()=>a[0]||(a[0]=[n("常用工具类库")])),_:1,__:[0]}),s("ul",null,[s("li",null,[t(e,{to:"#apache-commons-io"},{default:l(()=>a[1]||(a[1]=[n("Apache Commons IO")])),_:1,__:[1]})]),s("li",null,[t(e,{to:"#hutool"},{default:l(()=>a[2]||(a[2]=[n("Hutool")])),_:1,__:[2]})]),s("li",null,[t(e,{to:"#google-guava"},{default:l(()=>a[3]||(a[3]=[n("Google Guava")])),_:1,__:[3]})]),s("li",null,[t(e,{to:"#jodd-轻量级工具集"},{default:l(()=>a[4]||(a[4]=[n("Jodd - 轻量级工具集")])),_:1,__:[4]})]),s("li",null,[t(e,{to:"#truezip-压缩文件处理"},{default:l(()=>a[5]||(a[5]=[n("TrueZIP - 压缩文件处理")])),_:1,__:[5]})]),s("li",null,[t(e,{to:"#jimfs-内存文件系统"},{default:l(()=>a[6]||(a[6]=[n("JimFS - 内存文件系统")])),_:1,__:[6]})]),s("li",null,[t(e,{to:"#tika-内容分析"},{default:l(()=>a[7]||(a[7]=[n("Tika - 内容分析")])),_:1,__:[7]})]),s("li",null,[t(e,{to:"#jnr-本地文件操作"},{default:l(()=>a[8]||(a[8]=[n("JNR - 本地文件操作")])),_:1,__:[8]})])])]),s("li",null,[t(e,{to:"#代码对比"},{default:l(()=>a[9]||(a[9]=[n("代码对比")])),_:1,__:[9]}),s("ul",null,[s("li",null,[t(e,{to:"#基于md5哈希值比较两个文件是否相同"},{default:l(()=>a[10]||(a[10]=[n("基于MD5哈希值比较两个文件是否相同")])),_:1,__:[10]})])])]),s("li",null,[t(e,{to:"#自定义工具类fileutils"},{default:l(()=>a[11]||(a[11]=[n("自定义工具类FileUtils")])),_:1,__:[11]})])])]),a[34]||(a[34]=s("p",null,"Commons IO + NIO.2组合能满足大部分需求，其他工具仅列出Commons IO和NIO.2没有覆盖的功能。",-1)),a[35]||(a[35]=s("ol",null,[s("li",null,"需要中文支持：优先考虑Hutool"),s("li",null,"压缩文件处理：TrueZIP是专业选择"),s("li",null,"测试场景：JimFS内存文件系统"),s("li",null,"内容分析：Apache Tika")],-1)),a[36]||(a[36]=s("h2",{id:"常用工具类库",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#常用工具类库"},[s("span",null,"常用工具类库")])],-1)),a[37]||(a[37]=s("h3",{id:"apache-commons-io",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#apache-commons-io"},[s("span",null,"Apache Commons IO")])],-1)),s("p",null,[a[13]||(a[13]=n("Apache Commons IO 是 Apache 软件基金会提供的一个 Java 工具库，它简化了文件、IO 流和文件系统的操作，提供了大量实用方法来处理常见的 IO 任务。 Apache Commons IO包括以下模块，API参考")),t(k,{to:"/posts/java/utils/apache_common.html"},{default:l(()=>a[12]||(a[12]=[n("Apache Commons IO")])),_:1,__:[12]}),a[14]||(a[14]=n("："))]),a[38]||(a[38]=u('<ul><li>工具类(Utility Classes) <ul><li>FileUtils：提供文件操作工具方法，如复制、移动、删除文件和目录，读取文件内容等</li><li>FilenameUtils：处理文件名和路径的工具类</li><li>FileSystemUtils：提供文件系统相关操作，如获取磁盘空间</li><li>PathUtils:</li><li>IOUtils：处理输入输出流</li><li>IOCase：提供字符串比较功能，支持大小写敏感和大小写不敏感的比较</li></ul></li><li>输入输出(Input/Output) <ul><li>TeeInputStream/TeeOutputStream：可以将输入流同时输出到多个输出流</li><li>XmlStreamReader：能够自动检测XML文件的编码</li></ul></li><li>过滤器(Filters) <ul><li>提供多种文件过滤器，可以根据名称、后缀、前缀等条件过滤文件</li></ul></li><li>比较器(Comparators) <ul><li>提供基于文件名、文件大小、修改时间等的文件比较器</li></ul></li><li>文件监控(File Monitor) <ul><li>可以监控文件和目录的变化</li></ul></li></ul><h3 id="hutool" tabindex="-1"><a class="header-anchor" href="#hutool"><span>Hutool</span></a></h3><ul><li>文件类型检测：通过文件头而非扩展名判断真实文件类型</li><li>文件监听：封装JDK的WatchService，提供更易用的API</li><li>大文件处理：专门针对大文件的读写工具类</li><li>ANSI乱码处理：自动处理Windows下的ANSI编码文件</li></ul><h3 id="google-guava" tabindex="-1"><a class="header-anchor" href="#google-guava"><span>Google Guava</span></a></h3><ul><li>文件哈希计算：支持多种哈希算法快速计算文件指纹</li><li>文件树遍历：灵活的Files.fileTreeTraverser()</li><li>内存映射文件工具：MappedByteBuffer工具类</li></ul><h3 id="jodd-轻量级工具集" tabindex="-1"><a class="header-anchor" href="#jodd-轻量级工具集"><span>Jodd - 轻量级工具集</span></a></h3><ul><li>文件内容比较：FileComparator快速比较文件差异</li><li>文件搜索：基于通配符/正则的递归搜索</li><li>文件系统操作：Unix权限/软链接处理</li></ul><h3 id="truezip-压缩文件处理" tabindex="-1"><a class="header-anchor" href="#truezip-压缩文件处理"><span>TrueZIP - 压缩文件处理</span></a></h3><ul><li>透明ZIP访问：像普通目录一样操作ZIP文件</li><li>多种压缩格式：支持TAR/GZIP/7z等8</li></ul><h3 id="jimfs-内存文件系统" tabindex="-1"><a class="header-anchor" href="#jimfs-内存文件系统"><span>JimFS - 内存文件系统</span></a></h3><ul><li>内存虚拟文件系统：测试时替代真实文件系统</li><li>自定义文件系统特性：如大小写敏感/不敏感模拟</li></ul><h3 id="tika-内容分析" tabindex="-1"><a class="header-anchor" href="#tika-内容分析"><span>Tika - 内容分析</span></a></h3><ul><li>文件内容元数据提取：从各种文档中提取结构化信息</li><li>内容类型自动检测：比简单扩展名更可靠8</li></ul><h3 id="jnr-本地文件操作" tabindex="-1"><a class="header-anchor" href="#jnr-本地文件操作"><span>JNR - 本地文件操作</span></a></h3><ul><li>POSIX API访问：直接调用原生系统文件操作</li><li>高性能文件IO：绕过JVM层直接系统调用</li></ul><h2 id="代码对比" tabindex="-1"><a class="header-anchor" href="#代码对比"><span>代码对比</span></a></h2><h3 id="基于md5哈希值比较两个文件是否相同" tabindex="-1"><a class="header-anchor" href="#基于md5哈希值比较两个文件是否相同"><span>基于MD5哈希值比较两个文件是否相同</span></a></h3>',17)),s("ul",null,[s("li",null,[a[16]||(a[16]=n("Files.readAllBytes()：读取文件内容到字节数组比较，适合小文件 ")),t(i,null,{default:l(()=>a[15]||(a[15]=[n("Java NIO")])),_:1,__:[15]})]),s("li",null,[a[18]||(a[18]=n("Files.mismatch()：基于字节比较，快速找到第一个差异字节位置 ")),t(i,null,{default:l(()=>a[17]||(a[17]=[n("Java NIO")])),_:1,__:[17]})]),s("li",null,[a[20]||(a[20]=n("FileUtils.contentEquals()：基于字节比较，速度慢，适合小文件 ")),t(i,null,{default:l(()=>a[19]||(a[19]=[n("Apache Commons IO")])),_:1,__:[19]})]),s("li",null,[a[22]||(a[22]=n("DigestUtils.md5Hex()：基于MD5哈希值比较，速度快，适合大文件 ")),t(i,null,{default:l(()=>a[21]||(a[21]=[n("Apache Commons IO")])),_:1,__:[21]})]),s("li",null,[a[24]||(a[24]=n("Guava.Files.asByteSource().hash()：基于Guava的哈希算法，速度快，适合大文件 ")),t(i,null,{default:l(()=>a[23]||(a[23]=[n("Google Guava")])),_:1,__:[23]})])]),t(r,{id:"290",data:[{id:"Java NIO"},{id:"FileUtils.contentEquals()"},{id:"DigestUtils.md5Hex()"},{id:"Files.asByteSource().hash()"}]},{title0:l(({value:p,isActive:o})=>a[25]||(a[25]=[n("Java NIO")])),title1:l(({value:p,isActive:o})=>a[26]||(a[26]=[n("FileUtils.contentEquals()")])),title2:l(({value:p,isActive:o})=>a[27]||(a[27]=[n("DigestUtils.md5Hex()")])),title3:l(({value:p,isActive:o})=>a[28]||(a[28]=[n("Files.asByteSource().hash()")])),tab0:l(({value:p,isActive:o})=>a[29]||(a[29]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token import"},[s("span",{class:"token namespace"},[n("java"),s("span",{class:"token punctuation"},"."),n("nio"),s("span",{class:"token punctuation"},"."),n("file"),s("span",{class:"token punctuation"},".")]),s("span",{class:"token class-name"},"Files")]),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token import"},[s("span",{class:"token namespace"},[n("java"),s("span",{class:"token punctuation"},"."),n("nio"),s("span",{class:"token punctuation"},"."),n("file"),s("span",{class:"token punctuation"},".")]),s("span",{class:"token class-name"},"Path")]),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token comment"},"// JDK12+ 推荐方式")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"long"),n(" mismatch "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Files"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"mismatch"),s("span",{class:"token punctuation"},"("),n("path1"),s("span",{class:"token punctuation"},","),n(" path2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"boolean"),n(" isEqual "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token punctuation"},"("),n("mismatch "),s("span",{class:"token operator"},"=="),n(),s("span",{class:"token operator"},"-"),s("span",{class:"token number"},"1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token comment"},"// JDK8+ 替代方案")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"byte"),s("span",{class:"token punctuation"},"["),s("span",{class:"token punctuation"},"]"),n(" bytes1 "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Files"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"readAllBytes"),s("span",{class:"token punctuation"},"("),n("path1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"byte"),s("span",{class:"token punctuation"},"["),s("span",{class:"token punctuation"},"]"),n(" bytes2 "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Files"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"readAllBytes"),s("span",{class:"token punctuation"},"("),n("path2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"boolean"),n(" isEqual "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Arrays"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"equals"),s("span",{class:"token punctuation"},"("),n("bytes1"),s("span",{class:"token punctuation"},","),n(" bytes2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:l(({value:p,isActive:o})=>a[30]||(a[30]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token import"},[s("span",{class:"token namespace"},[n("org"),s("span",{class:"token punctuation"},"."),n("apache"),s("span",{class:"token punctuation"},"."),n("commons"),s("span",{class:"token punctuation"},"."),n("io"),s("span",{class:"token punctuation"},".")]),s("span",{class:"token class-name"},"FileUtils")]),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("boolea isEqual "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"FileUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"contentEquals"),s("span",{class:"token punctuation"},"("),n("file1"),s("span",{class:"token punctuation"},","),n("file2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab2:l(({value:p,isActive:o})=>a[31]||(a[31]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token keyword"},"static"),n(),s("span",{class:"token keyword"},"boolean"),n(),s("span",{class:"token function"},"compareFilesByMD5"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"File"),n(" file1"),s("span",{class:"token punctuation"},","),n(),s("span",{class:"token class-name"},"File"),n(" file2"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token keyword"},"throws"),n(),s("span",{class:"token class-name"},"IOException"),n(),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token comment"},"// 快速检查")]),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token operator"},"!"),s("span",{class:"token class-name"},"FileUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"isFile"),s("span",{class:"token punctuation"},"("),n("file1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"||"),n(),s("span",{class:"token operator"},"!"),s("span",{class:"token class-name"},"FileUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"isFile"),s("span",{class:"token punctuation"},"("),n("file2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token boolean"},"false"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token punctuation"},"}")]),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token keyword"},"if"),n(),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"FileUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"sizeOf"),s("span",{class:"token punctuation"},"("),n("file1"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"!="),n(),s("span",{class:"token class-name"},"FileUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"sizeOf"),s("span",{class:"token punctuation"},"("),n("file2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    "),s("span",{class:"token keyword"},"return"),n(),s("span",{class:"token boolean"},"false"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token punctuation"},"}")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token comment"},"// 使用Commons IO的打开文件方式")]),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token class-name"},"String"),n(" md5_1 "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"DigestUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"md5Hex"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"FileUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"openInputStream"),s("span",{class:"token punctuation"},"("),n("file1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token class-name"},"String"),n(" md5_2 "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"DigestUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"md5Hex"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"FileUtils"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"openInputStream"),s("span",{class:"token punctuation"},"("),n("file2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("  "),s("span",{class:"token keyword"},"return"),n(" md5_1"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"equals"),s("span",{class:"token punctuation"},"("),n("md5_2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab3:l(({value:p,isActive:o})=>a[32]||(a[32]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"prismjs","data-ext":"java"},[s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token import"},[s("span",{class:"token namespace"},[n("com"),s("span",{class:"token punctuation"},"."),n("google"),s("span",{class:"token punctuation"},"."),n("common"),s("span",{class:"token punctuation"},"."),n("hash"),s("span",{class:"token punctuation"},".")]),s("span",{class:"token class-name"},"Hashing")]),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token import"},[s("span",{class:"token namespace"},[n("com"),s("span",{class:"token punctuation"},"."),n("google"),s("span",{class:"token punctuation"},"."),n("common"),s("span",{class:"token punctuation"},"."),n("io"),s("span",{class:"token punctuation"},".")]),s("span",{class:"token class-name"},"Files")]),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token class-name"},"HashCode"),n(" hash1 "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Files"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"asByteSource"),s("span",{class:"token punctuation"},"("),n("file1"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"hash"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Hashing"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"md5"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token class-name"},"HashCode"),n(" hash2 "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"Files"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"asByteSource"),s("span",{class:"token punctuation"},"("),n("file2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"hash"),s("span",{class:"token punctuation"},"("),s("span",{class:"token class-name"},"Hashing"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"md5"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"boolean"),n(" isEqual "),s("span",{class:"token operator"},"="),n(" hash1"),s("span",{class:"token punctuation"},"."),s("span",{class:"token function"},"equals"),s("span",{class:"token punctuation"},"("),n("hash2"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[39]||(a[39]=u(`<h2 id="自定义工具类fileutils" tabindex="-1"><a class="header-anchor" href="#自定义工具类fileutils"><span>自定义工具类FileUtils</span></a></h2><p>功能：</p><ul><li>基于MD5哈希值比较两个文件是否相同</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">package</span> <span class="token namespace">utils</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>digest<span class="token punctuation">.</span></span><span class="token class-name">DigestUtils</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileUtils</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * 基于MD5哈希值比较两个文件是否相同</span>
<span class="line">     * <span class="token keyword">@author</span> zmy</span>
<span class="line">     * <span class="token keyword">@version</span> 1.0</span>
<span class="line">     * <span class="token keyword">@date</span> 2025-07-14 16:19</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">compareByMD5</span><span class="token punctuation">(</span><span class="token class-name">File</span> file1<span class="token punctuation">,</span> <span class="token class-name">File</span> file2<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 快速检查文件是否存在</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file1<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>file2<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// 快速检查是否为文件</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">FileUtils</span><span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span>file1<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">FileUtils</span><span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// 快速检查文件大小</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>file1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> file2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 计算MD5哈希</span></span>
<span class="line">        <span class="token class-name">String</span> md5_1 <span class="token operator">=</span> <span class="token class-name">DigestUtils</span><span class="token punctuation">.</span><span class="token function">md5Hex</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> md5_2 <span class="token operator">=</span> <span class="token class-name">DigestUtils</span><span class="token punctuation">.</span><span class="token function">md5Hex</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">return</span> md5_1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>md5_2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4))])}const F=m(b,[["render",h]]),I=JSON.parse('{"path":"/posts/java/utils/file_utils.html","title":"FileUtils","lang":"zh-CN","frontmatter":{"title":"FileUtils","date":"2025-07-14T07:34:47.254Z","category":["java","utils","file_utils"],"tags":["java","utils","file_utils"]},"git":{"updatedTime":1752561310000,"contributors":[{"name":"zhaomy","username":"zhaomy","email":"3036190149@qq.com","commits":1,"url":"https://github.com/zhaomy"}],"changelog":[{"hash":"e5512f7153d6d6bfe2919c55419f1a8ef5e3fc96","time":1752561310000,"email":"3036190149@qq.com","author":"zhaomy","message":"1. Zookeeper 2. Java工具库"}]},"filePathRelative":"posts/java/utils/file_utils.md","excerpt":"\\n\\n<p>Commons IO + NIO.2组合能满足大部分需求，其他工具仅列出Commons IO和NIO.2没有覆盖的功能。</p>\\n<ol>\\n<li>需要中文支持：优先考虑Hutool</li>\\n<li>压缩文件处理：TrueZIP是专业选择</li>\\n<li>测试场景：JimFS内存文件系统</li>\\n<li>内容分析：Apache Tika</li>\\n</ol>\\n<h2>常用工具类库</h2>\\n<h3>Apache Commons IO</h3>\\n<p>Apache Commons IO 是 Apache 软件基金会提供的一个 Java 工具库，它简化了文件、IO 流和文件系统的操作，提供了大量实用方法来处理常见的 IO 任务。\\nApache Commons IO包括以下模块，API参考<a href=\\"/vuepress/posts/java/utils/apache_common.html\\" target=\\"_blank\\">Apache Commons IO</a>：</p>"}');export{F as comp,I as data};

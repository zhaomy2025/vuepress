<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Java 25 新特性 | My Blog</title><meta name="description" content="这是我的第一个 VuePress 站点">
    <link rel="preload" href="/assets/style-CnXJ9Nmb.css" as="style"><link rel="stylesheet" href="/assets/style-CnXJ9Nmb.css">
    <link rel="modulepreload" href="/assets/app-ty-Ai2oG.js"><link rel="modulepreload" href="/assets/java-25-features.html-DUmR2doJ.js">
    <link rel="prefetch" href="/assets/index.html-DLrIYmZ2.js" as="script"><link rel="prefetch" href="/assets/get-started.html-xfK_unUN.js" as="script"><link rel="prefetch" href="/assets/index.html-iToDBHPt.js" as="script"><link rel="prefetch" href="/assets/git-hooks.html-DKpv_l82.js" as="script"><link rel="prefetch" href="/assets/git-ssh.html-JZDihuG5.js" as="script"><link rel="prefetch" href="/assets/index.html-BSJQDCxE.js" as="script"><link rel="prefetch" href="/assets/index.html-CA11FwNw.js" as="script"><link rel="prefetch" href="/assets/index.html-CMovsGIL.js" as="script"><link rel="prefetch" href="/assets/yaml.html-DFaRQAs9.js" as="script"><link rel="prefetch" href="/assets/functools.html-C-1EVS3W.js" as="script"><link rel="prefetch" href="/assets/functools_wraps.html-CR-ejgCm.js" as="script"><link rel="prefetch" href="/assets/index.html-KsTf5nXN.js" as="script"><link rel="prefetch" href="/assets/requirements.html-BUiHIDac.js" as="script"><link rel="prefetch" href="/assets/wrapper.html-uo66rzFj.js" as="script"><link rel="prefetch" href="/assets/book-name-format.html-B1s3Pbg8.js" as="script"><link rel="prefetch" href="/assets/book.html-CHumxoZt.js" as="script"><link rel="prefetch" href="/assets/github.html-CfNpuA0Y.js" as="script"><link rel="prefetch" href="/assets/index.html-BimVnamW.js" as="script"><link rel="prefetch" href="/assets/code_tool_template.html-D7SM7TFD.js" as="script"><link rel="prefetch" href="/assets/index.html-CDu6Ky-N.js" as="script"><link rel="prefetch" href="/assets/tool_template.html-63IHuyiY.js" as="script"><link rel="prefetch" href="/assets/tutorial_website_setup_template.html-Kq2mZZIn.js" as="script"><link rel="prefetch" href="/assets/coze.html-DVvuzyS2.js" as="script"><link rel="prefetch" href="/assets/index.html-C0zv5C0A.js" as="script"><link rel="prefetch" href="/assets/instruction.html-CRMQI49h.js" as="script"><link rel="prefetch" href="/assets/prompt.html-D6Oy6-mf.js" as="script"><link rel="prefetch" href="/assets/quesion.html-DG10ibt_.js" as="script"><link rel="prefetch" href="/assets/trae-plugin.html-BqIklL54.js" as="script"><link rel="prefetch" href="/assets/github_action.html-DPN5ru7i.js" as="script"><link rel="prefetch" href="/assets/index.html-pXlrGldc.js" as="script"><link rel="prefetch" href="/assets/database-connection-pool.html-CYwuRdq7.js" as="script"><link rel="prefetch" href="/assets/index.html-osbQtR0w.js" as="script"><link rel="prefetch" href="/assets/multithreading.html-BDwhkUS7.js" as="script"><link rel="prefetch" href="/assets/multithreading_intro.html-CBG2MYFT.js" as="script"><link rel="prefetch" href="/assets/linked-hash-map-to-object.html-CGtO_vkb.js" as="script"><link rel="prefetch" href="/assets/index.html-_7p_r7rD.js" as="script"><link rel="prefetch" href="/assets/java_mail.html-C6UKQll1.js" as="script"><link rel="prefetch" href="/assets/java_mail_sender.html-BcHNtOyV.js" as="script"><link rel="prefetch" href="/assets/mail.html-DszurHOx.js" as="script"><link rel="prefetch" href="/assets/mail_smtp.html-CriUe7TC.js" as="script"><link rel="prefetch" href="/assets/ahead-of-time-method-profiling-intro.html-C5qUFO8Q.js" as="script"><link rel="prefetch" href="/assets/class-file-api-intro.html-DQxcBYm-.js" as="script"><link rel="prefetch" href="/assets/compact-object-headers-intro.html-Dp-ntW2G.js" as="script"><link rel="prefetch" href="/assets/flexible-constructor-bodies-intro.html-D3a4H30y.js" as="script"><link rel="prefetch" href="/assets/generational-shenandoah-intro.html-Av2_SZrG.js" as="script"><link rel="prefetch" href="/assets/index.html-CyIYnlQf.js" as="script"><link rel="prefetch" href="/assets/java-22-features.html-DIWufEsj.js" as="script"><link rel="prefetch" href="/assets/java-23-features.html-DAzXiG20.js" as="script"><link rel="prefetch" href="/assets/java-24-features.html-cYv1jKyg.js" as="script"><link rel="prefetch" href="/assets/jer-445-463-477-495-512-intro.html-Bm1Kg6CD.js" as="script"><link rel="prefetch" href="/assets/jfr-cooperative-sampling-intro.html-CDimpK9P.js" as="script"><link rel="prefetch" href="/assets/module-Import-declarations-intro.html-BL7Rc6xF.js" as="script"><link rel="prefetch" href="/assets/prepare-to-restrict-the-use-of-jni-intro.html-CNIND0eF.js" as="script"><link rel="prefetch" href="/assets/primitive-types-in-patterns-instanceof-and-switch-intro.html-C-NvbTBv.js" as="script"><link rel="prefetch" href="/assets/primitive-types-in-patterns-instanceof-and-switch.html-D8rJ07rU.js" as="script"><link rel="prefetch" href="/assets/stable-values-intro.html-DHDWZdfy.js" as="script"><link rel="prefetch" href="/assets/structured-concurrency-guide.html-D8u_8jQk.js" as="script"><link rel="prefetch" href="/assets/structured-concurrency-intro.html-C6LHHlNK.js" as="script"><link rel="prefetch" href="/assets/vector-api-intro.html-CFWBOUzM.js" as="script"><link rel="prefetch" href="/assets/index.html-qvspoq4B.js" as="script"><link rel="prefetch" href="/assets/mybatis-annotation.html-D24W-i5A.js" as="script"><link rel="prefetch" href="/assets/mybatis-intro.html-BPCeNB0U.js" as="script"><link rel="prefetch" href="/assets/mybatis-plus-code-generator.html-BDxlYEeL.js" as="script"><link rel="prefetch" href="/assets/mybatis-plus-multi-tenant.html-DvYMU_18.js" as="script"><link rel="prefetch" href="/assets/mybatis-plus-pagehelper.html-Da1MBXa-.js" as="script"><link rel="prefetch" href="/assets/mybatis.html-2QrQxyNg.js" as="script"><link rel="prefetch" href="/assets/apache_common.html-Bu4aWzeH.js" as="script"><link rel="prefetch" href="/assets/file.html-CbRfox2S.js" as="script"><link rel="prefetch" href="/assets/file_utils.html-DHvXdyQu.js" as="script"><link rel="prefetch" href="/assets/hutool.html-Cabj708G.js" as="script"><link rel="prefetch" href="/assets/index.html-RDYPQrtw.js" as="script"><link rel="prefetch" href="/assets/index.html-BVxCQXal.js" as="script"><link rel="prefetch" href="/assets/nvm.html-Nm3h6sPo.js" as="script"><link rel="prefetch" href="/assets/index.html-ISNab_Ar.js" as="script"><link rel="prefetch" href="/assets/dynamic-programming-intro.html-uFtAx2ya.js" as="script"><link rel="prefetch" href="/assets/dynamic-programming.html-DAgNjKQ3.js" as="script"><link rel="prefetch" href="/assets/index.html-iHZSsLtb.js" as="script"><link rel="prefetch" href="/assets/index.html-CUE1oMQ1.js" as="script"><link rel="prefetch" href="/assets/index.html-CkZQCyIn.js" as="script"><link rel="prefetch" href="/assets/command.html-pjQiPkA7.js" as="script"><link rel="prefetch" href="/assets/index.html-BncpLrZZ.js" as="script"><link rel="prefetch" href="/assets/index.html-By892VPc.js" as="script"><link rel="prefetch" href="/assets/spring-boot-hello-world-intro.html-B27d9kRj.js" as="script"><link rel="prefetch" href="/assets/spring-boot-hello-world.html-BX8GzSFX.js" as="script"><link rel="prefetch" href="/assets/spring-boot-oracle.html-qhptct-r.js" as="script"><link rel="prefetch" href="/assets/spring-boot-redis-intro.html-Di1ThGup.js" as="script"><link rel="prefetch" href="/assets/spring-boot-redis.html-D4EbhmnI.js" as="script"><link rel="prefetch" href="/assets/spring-boot.html-BDgajHnj.js" as="script"><link rel="prefetch" href="/assets/spring-framework-aop-impi.html-DdWcgS50.js" as="script"><link rel="prefetch" href="/assets/spring-framework-aop.html-CBOzJHGI.js" as="script"><link rel="prefetch" href="/assets/spring-framework-ioc-impi.html-Bvx6Wx6M.js" as="script"><link rel="prefetch" href="/assets/spring-framework-ioc.html-DvdNLc4b.js" as="script"><link rel="prefetch" href="/assets/spring-framework.html-CTMATFPs.js" as="script"><link rel="prefetch" href="/assets/common_markdown.html-UYOQU_VW.js" as="script"><link rel="prefetch" href="/assets/common_summary.html-B1rGOJXI.js" as="script"><link rel="prefetch" href="/assets/css.html-whnHL3ZV.js" as="script"><link rel="prefetch" href="/assets/index.html-BT27FB5o.js" as="script"><link rel="prefetch" href="/assets/plugin.html-CHbyw3bd.js" as="script"><link rel="prefetch" href="/assets/vue-component.html-ChPDQ9l3.js" as="script"><link rel="prefetch" href="/assets/vuepress_cloud.html-CPhtJu74.js" as="script"><link rel="prefetch" href="/assets/index.html-CfKSymIu.js" as="script"><link rel="prefetch" href="/assets/requirement_v1.html-Bpr4k99w.js" as="script"><link rel="prefetch" href="/assets/fastjson2.html-CHaxDlzf.js" as="script"><link rel="prefetch" href="/assets/jackson.html-C2j9BMUk.js" as="script"><link rel="prefetch" href="/assets/index.html-Bk8QyOYr.js" as="script"><link rel="prefetch" href="/assets/itexpdf.html-DGaPHWO_.js" as="script"><link rel="prefetch" href="/assets/index.html-B3T4z4H8.js" as="script"><link rel="prefetch" href="/assets/load-balance.html-DkaxDlXr.js" as="script"><link rel="prefetch" href="/assets/suggest.html-C5dzzo8s.js" as="script"><link rel="prefetch" href="/assets/client.html-abqUtzcR.js" as="script"><link rel="prefetch" href="/assets/command.html-Bb_uAOAw.js" as="script"><link rel="prefetch" href="/assets/curator.html-CFW3ZmZc.js" as="script"><link rel="prefetch" href="/assets/index.html-DucKjZPM.js" as="script"><link rel="prefetch" href="/assets/zkclient.html-CNanVaGb.js" as="script"><link rel="prefetch" href="/assets/zookeeper_intro.html-CcJyM4ch.js" as="script"><link rel="prefetch" href="/assets/index.html-BIwhLTdV.js" as="script"><link rel="prefetch" href="/assets/multi-tenant.html-Bi3dyIbm.js" as="script"><link rel="prefetch" href="/assets/constraint.html-Betyjpr9.js" as="script"><link rel="prefetch" href="/assets/cursor.html-BDWw7Mz3.js" as="script"><link rel="prefetch" href="/assets/cursor_intro.html-DPbERj3U.js" as="script"><link rel="prefetch" href="/assets/index.html-BI8Ozn9o.js" as="script"><link rel="prefetch" href="/assets/index.html-BvEhjtPs.js" as="script"><link rel="prefetch" href="/assets/tencent-nginx.html-DJgeSx6e.js" as="script"><link rel="prefetch" href="/assets/tencent.html-ClOjXomW.js" as="script"><link rel="prefetch" href="/assets/index.html-C0cbHonY.js" as="script"><link rel="prefetch" href="/assets/nginx-problem.html-BiNOqIHs.js" as="script"><link rel="prefetch" href="/assets/nginx.html-D-tyISHd.js" as="script"><link rel="prefetch" href="/assets/index.html-D7XrkQs5.js" as="script"><link rel="prefetch" href="/assets/snowflake.html-C3Dw8ip1.js" as="script"><link rel="prefetch" href="/assets/index.html-7zDovRmB.js" as="script"><link rel="prefetch" href="/assets/404.html-NueMNEkL.js" as="script"><link rel="prefetch" href="/assets/index.html-D5mYZ_7n.js" as="script"><link rel="prefetch" href="/assets/index.html-DLLiPHQj.js" as="script"><link rel="prefetch" href="/assets/index.html-BRtUDzbe.js" as="script"><link rel="prefetch" href="/assets/index.html-DVqt6ekR.js" as="script"><link rel="prefetch" href="/assets/index.html-DtefR5hZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BXxGWFpX.js" as="script"><link rel="prefetch" href="/assets/index.html-YBwVlzZh.js" as="script"><link rel="prefetch" href="/assets/index.html-BobHojvO.js" as="script"><link rel="prefetch" href="/assets/index.html-Dlo63RI7.js" as="script"><link rel="prefetch" href="/assets/index.html-BMbHWSLe.js" as="script"><link rel="prefetch" href="/assets/index.html-D64o4ymz.js" as="script"><link rel="prefetch" href="/assets/index.html-DLw2OsL9.js" as="script"><link rel="prefetch" href="/assets/index.html-BFjijOTR.js" as="script"><link rel="prefetch" href="/assets/index.html-CddT7JEj.js" as="script"><link rel="prefetch" href="/assets/index.html-DaXOIcRo.js" as="script"><link rel="prefetch" href="/assets/index.html-D64o4ymz.js" as="script"><link rel="prefetch" href="/assets/index.html-DLw2OsL9.js" as="script"><link rel="prefetch" href="/assets/index.html-B-ATo01V.js" as="script"><link rel="prefetch" href="/assets/index.html-Bzi7NGFl.js" as="script"><link rel="prefetch" href="/assets/index.html-CAjZgO3P.js" as="script"><link rel="prefetch" href="/assets/index.html-13PKT1KU.js" as="script"><link rel="prefetch" href="/assets/index.html-BIX6N9Rj.js" as="script"><link rel="prefetch" href="/assets/index.html-V8F9UMIF.js" as="script"><link rel="prefetch" href="/assets/index.html-CgjLs7b3.js" as="script"><link rel="prefetch" href="/assets/index.html-DWtZ-PdZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BAx8ouV7.js" as="script"><link rel="prefetch" href="/assets/index.html-NPYmPbRV.js" as="script"><link rel="prefetch" href="/assets/index.html-CNaVHEEB.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz-Xxqmp.js" as="script"><link rel="prefetch" href="/assets/index.html-DlGAQNQ-.js" as="script"><link rel="prefetch" href="/assets/index.html-B4e6NiRJ.js" as="script"><link rel="prefetch" href="/assets/index.html-cXXie1Px.js" as="script"><link rel="prefetch" href="/assets/index.html-D33zwPi5.js" as="script"><link rel="prefetch" href="/assets/index.html-DpQleCFj.js" as="script"><link rel="prefetch" href="/assets/index.html-Ci5q_IAj.js" as="script"><link rel="prefetch" href="/assets/index.html-k2T3wNgK.js" as="script"><link rel="prefetch" href="/assets/index.html-CGRiWGBb.js" as="script"><link rel="prefetch" href="/assets/index.html-BdQfU8U7.js" as="script"><link rel="prefetch" href="/assets/index.html-Dlk8E527.js" as="script"><link rel="prefetch" href="/assets/index.html-BC5fUo_p.js" as="script"><link rel="prefetch" href="/assets/index.html-L8YJoCVr.js" as="script"><link rel="prefetch" href="/assets/index.html-BaiWIq3k.js" as="script"><link rel="prefetch" href="/assets/index.html-BRB0sBTE.js" as="script"><link rel="prefetch" href="/assets/index.html-bhFpYcg6.js" as="script"><link rel="prefetch" href="/assets/index.html-CKs5h2UG.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-DrELB38J.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/logo.png" alt="My Blog"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">My Blog</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/resource/" aria-label="资源"><!--[--><!--[--><!--]--><!--]-->资源<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/java/" aria-label="Java"><!--[--><!--[--><!--]--><!--]-->Java<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/spring/" aria-label="Spring"><!--[--><!--[--><!--]--><!--]-->Spring<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/arch/" aria-label="架构"><!--[--><!--[--><!--]--><!--]-->架构<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/db/" aria-label="数据库"><!--[--><!--[--><!--]--><!--]-->数据库<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/linux/" aria-label="Linux"><!--[--><!--[--><!--]--><!--]-->Linux<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/git/" aria-label="Git"><!--[--><!--[--><!--]--><!--]-->Git<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/vuepress/" aria-label="VuePress"><!--[--><!--[--><!--]--><!--]-->VuePress<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/others/" aria-label="杂项"><!--[--><!--[--><!--]--><!--]-->杂项<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/resource/" aria-label="资源"><!--[--><!--[--><!--]--><!--]-->资源<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/java/" aria-label="Java"><!--[--><!--[--><!--]--><!--]-->Java<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/spring/" aria-label="Spring"><!--[--><!--[--><!--]--><!--]-->Spring<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/arch/" aria-label="架构"><!--[--><!--[--><!--]--><!--]-->架构<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/db/" aria-label="数据库"><!--[--><!--[--><!--]--><!--]-->数据库<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/linux/" aria-label="Linux"><!--[--><!--[--><!--]--><!--]-->Linux<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/git/" aria-label="Git"><!--[--><!--[--><!--]--><!--]-->Git<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/posts/vuepress/" aria-label="VuePress"><!--[--><!--[--><!--]--><!--]-->VuePress<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/others/" aria-label="杂项"><!--[--><!--[--><!--]--><!--]-->杂项<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/java/" aria-label="Java"><!--[--><!--[--><!--]--><!--]-->Java<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/java/new-features/" aria-label="Java 新特性"><!--[--><!--[--><!--]--><!--]-->Java 新特性<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/java/new-features/java-25-features.html" aria-label="Java 25 新特性"><!--[--><!--[--><!--]--><!--]-->Java 25 新特性<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/new-features/java-24-features.html" aria-label="Java 24 新特性"><!--[--><!--[--><!--]--><!--]-->Java 24 新特性<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/new-features/java-23-features.html" aria-label="Java 23 新特性"><!--[--><!--[--><!--]--><!--]-->Java 23 新特性<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/new-features/java-22-features.html" aria-label="Java 22 新特性"><!--[--><!--[--><!--]--><!--]-->Java 22 新特性<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/java/intermediate/" aria-label="Java 中级"><!--[--><!--[--><!--]--><!--]-->Java 中级<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/java/intermediate/multithreading.html" aria-label="Java 多线程编程"><!--[--><!--[--><!--]--><!--]-->Java 多线程编程<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">工具库 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/java/utils/file_utils.html" aria-label="FileUtils"><!--[--><!--[--><!--]--><!--]-->FileUtils<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/utils/pdf_utils/" aria-label="PDFUtils"><!--[--><!--[--><!--]--><!--]-->PDFUtils<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/java/utils/pdf_utils/itexpdf.html" aria-label="itexpdf"><!--[--><!--[--><!--]--><!--]-->itexpdf<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/utils/apache_common.html" aria-label="Apache Common"><!--[--><!--[--><!--]--><!--]-->Apache Common<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/utils/hutool.html" aria-label="hutool"><!--[--><!--[--><!--]--><!--]-->hutool<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">ORM <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/java/orm/mybatis.html" aria-label="MyBatis"><!--[--><!--[--><!--]--><!--]-->MyBatis<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/orm/mybatis-annotation.html" aria-label="MyBatis/MyBatis-Plus注解"><!--[--><!--[--><!--]--><!--]-->MyBatis/MyBatis-Plus注解<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">模块 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/java/module/mail.html" aria-label="Java 邮件服务"><!--[--><!--[--><!--]--><!--]-->Java 邮件服务<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/module/java_mail.html" aria-label="JavaMail"><!--[--><!--[--><!--]--><!--]-->JavaMail<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/module/java_mail_sender.html" aria-label="JavaMailSender"><!--[--><!--[--><!--]--><!--]-->JavaMailSender<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">其他 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">Json <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/java/misc/json/fastjson2.html" aria-label="fastjson2"><!--[--><!--[--><!--]--><!--]-->fastjson2<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/misc/json/jackson.html" aria-label="Jackson库详解"><!--[--><!--[--><!--]--><!--]-->Jackson库详解<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/java/misc/linked-hash-map-to-object.html" aria-label="LinkedHashMap解析"><!--[--><!--[--><!--]--><!--]-->LinkedHashMap解析<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="java-25-新特性" tabindex="-1"><a class="header-anchor" href="#java-25-新特性"><span>Java 25 新特性</span></a></h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/java/new-features/java-25-features.html#概述" class="router-link-active router-link-exact-active">概述</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#主要特性" class="router-link-active router-link-exact-active">主要特性</a><ul><li><a aria-current="page" href="/java/new-features/java-25-features.html#正式特性" class="router-link-active router-link-exact-active">正式特性</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#预览特性" class="router-link-active router-link-exact-active">预览特性</a></li></ul></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-502-稳定值-预览" class="router-link-active router-link-exact-active">JEP 502： 稳定值（预览）</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-503-移除-32-位-x86-端口" class="router-link-active router-link-exact-active">JEP 503：移除 32 位 x86 端口</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-505-结构化并发-第五次预览" class="router-link-active router-link-exact-active">JEP 505：结构化并发（第五次预览）</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-506-作用域值" class="router-link-active router-link-exact-active">JEP 506：作用域值</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-507-模式、instanceof-和-switch中的原始类型-第三次预览" class="router-link-active router-link-exact-active">JEP 507：模式、instanceof 和 switch中的原始类型（第三次预览）</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-508-向量-api-第十次孵化" class="router-link-active router-link-exact-active">JEP 508：向量 API（第十次孵化）</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-509-jep-509-jfr-cpu-时间分析-实验性" class="router-link-active router-link-exact-active">JEP 509： JEP 509：JFR CPU 时间分析（实验性）</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-510-密钥派生函数-api" class="router-link-active router-link-exact-active">JEP 510：密钥派生函数 API</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-511-模块导入声明" class="router-link-active router-link-exact-active">JEP 511：模块导入声明</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-512-压缩源文件和实例主方法" class="router-link-active router-link-exact-active">JEP 512：压缩源文件和实例主方法</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-513-灵活的构造函数体" class="router-link-active router-link-exact-active">JEP 513：灵活的构造函数体</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-514-超前命令行" class="router-link-active router-link-exact-active">JEP 514：超前命令行</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-515-超前方法剖析" class="router-link-active router-link-exact-active">JEP 515：超前方法剖析</a><ul><li><a aria-current="page" href="/java/new-features/java-25-features.html#要解决的问题-java-启动后的-热身-阶段过慢" class="router-link-active router-link-exact-active">要解决的问题：Java 启动后的“热身”阶段过慢</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-515-如何工作-直接复用上一次运行的剖析数据" class="router-link-active router-link-exact-active">JEP 515 如何工作：直接复用上一次运行的剖析数据</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#如何启用" class="router-link-active router-link-exact-active">如何启用</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#总结" class="router-link-active router-link-exact-active">总结</a></li></ul></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-518-jfr-协作式采样" class="router-link-active router-link-exact-active">JEP 518：JFR 协作式采样</a><ul><li><a aria-current="page" href="/java/new-features/java-25-features.html#问题-异步采样为何不稳定" class="router-link-active router-link-exact-active">问题：异步采样为何不稳定？</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#旧方案的权衡-要么-安全-要么-失真" class="router-link-active router-link-exact-active">旧方案的权衡：要么“安全”要么“失真”</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#新方案-只在-safepoint-采样-但最小化-safepoint-偏差" class="router-link-active router-link-exact-active">新方案：只在 safepoint 采样，但最小化 safepoint 偏差</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#一句话总结" class="router-link-active router-link-exact-active">一句话总结</a></li></ul></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-519-紧凑对象头" class="router-link-active router-link-exact-active">JEP 519：紧凑对象头</a><ul><li><a aria-current="page" href="/java/new-features/java-25-features.html#核心原理" class="router-link-active router-link-exact-active">核心原理</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#新旧对象头布局对比" class="router-link-active router-link-exact-active">新旧对象头布局对比</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#启用方式" class="router-link-active router-link-exact-active">启用方式</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#适用场景" class="router-link-active router-link-exact-active">适用场景</a></li></ul></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-520-jfr-方法时序和跟踪" class="router-link-active router-link-exact-active">JEP 520：JFR 方法时序和跟踪</a></li><li><a aria-current="page" href="/java/new-features/java-25-features.html#jep-521-分代-shenandoah" class="router-link-active router-link-exact-active">JEP 521：分代 Shenandoah</a></li></ul></nav><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>Java 25 于 2025 年 9 月发布，包含了多个新特性和改进。</p><h2 id="主要特性" tabindex="-1"><a class="header-anchor" href="#主要特性"><span>主要特性</span></a></h2><h3 id="正式特性" tabindex="-1"><a class="header-anchor" href="#正式特性"><span>正式特性</span></a></h3><ul><li>JEP 503：移除 32 位 x86 端口</li><li>JEP 506：作用域值由 JEP 429 （Java 20） 提议孵化，经过 Java21-24 四次预览，最终在JEP 506（Java 25）中正式引入。 <ul><li>JEP 446（Java 21）：作用域值（预览）</li><li>JEP 464（Java 22）：作用域值（第二次预览）</li><li>JEP 481（Java 23）：作用域值（第三次预览）</li><li>JEP 487（Java 24）：作用域值（第四次预览）</li></ul></li><li>JEP 510：密钥派生函数 API</li><li>JEP 511：模块导入声明由 JEP 476（Java 23） 提议预览，经过 JEP 494（Java 24）再次预览，最终在 JEP 511（Java 25）中正式引入。</li><li>JEP 512：压缩源文件和实例主方法 <ul><li>JEP 445（Java 21）: 未命名类和实例主方法（预览)</li><li>JEP 463（Java 22）: 隐式声明的类和实例主方法（第二次预览）</li><li>JEP 477（Java 23）: 隐式声明的类和实例主方法（第三次预览）</li><li>JEP 495（Java 24）：简单源文件和实例主方法（第四次预览）</li></ul></li><li>JEP 513：灵活的构造函数体经过Java22-24三次预览，最终在JEP 513（Java 25）中正式引入。 <ul><li>JEP 447（Java 22）: super() 前语句（预览）</li><li>JEP 482（Java 23）: 灵活的构造函数（第二次预览）</li><li>JEP 492（Java 24）：灵活的构造函数体（第三次预览）</li></ul></li><li>JEP 514：超前命令行</li><li>JEP 515：超前方法剖析</li><li>JEP 518：JFR 合作采样</li><li>JEP 519：紧凑对象标头 <ul><li>JEP 450：紧凑对象标头（实验性）</li></ul></li><li>JEP 521：分代 Shenandoah <ul><li>JEP 404：分代 Shenandoah（实验性）</li></ul></li></ul><h3 id="预览特性" tabindex="-1"><a class="header-anchor" href="#预览特性"><span>预览特性</span></a></h3><ul><li>JEP 502：稳定值（预览）</li><li>JEP 505：结构化并发（第五次预览）</li><li>JEP 507：模式、instanceof 和 switch中的原始类型（第三次预览）</li><li>JEP 509：JFR CPU 时间分析（实验性）</li></ul><h2 id="jep-502-稳定值-预览" tabindex="-1"><a class="header-anchor" href="#jep-502-稳定值-预览"><span>JEP 502： 稳定值（预览）</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 502: Stable Values (Preview)</p><p>Introduce an API for stable values, which are objects that hold immutable data. Stable values are treated as constants by the JVM, enabling the same performance optimizations that are enabled by declaring a field final. Compared to final fields, however, stable values offer greater flexibility as to the timing of their initialization. This is a preview API.</p></div><p>为稳定值引入 API，稳定值是保存不可变数据的对象。稳定值被 JVM 视为常量，从而实现与声明字段final相同的性能优化。与final字段相比，稳定值在初始化时间方面提供了更大的灵活性。这是一个预览 API。</p><p>稳定值具有以下特性：</p><ul><li>灵活初始化：稳定值为我们提供了与final字段相同的初始化保证，同时保留了可变非final字段的灵活性。</li><li>支持稳定列表：稳定值 API 还引入了对稳定列表的支持，这是一种特殊的稳定值，用于存储不可变的元素列表。</li></ul><h2 id="jep-503-移除-32-位-x86-端口" tabindex="-1"><a class="header-anchor" href="#jep-503-移除-32-位-x86-端口"><span>JEP 503：移除 32 位 x86 端口</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 503: Remove the 32-bit x86 Port</p><p>Remove the source code and build support for the 32-bit x86 port. This port was deprecated for removal in JDK 24 (JEP 501) with the express intent to remove it in a future release.</p></div><p>移除32位x86端口的源代码和构建支持。该端口在JDK 24（JEP 501）中已被标记为弃用，明确计划在未来版本中移除。</p><h2 id="jep-505-结构化并发-第五次预览" tabindex="-1"><a class="header-anchor" href="#jep-505-结构化并发-第五次预览"><span>JEP 505：结构化并发（第五次预览）</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 505: Structured Concurrency (Fifth Preview)</p><p>Simplify concurrent programming by introducing an API for structured concurrency. Structured concurrency treats groups of related tasks running in different threads as single units of work, thereby streamlining error handling and cancellation, improving reliability, and enhancing observability. This is a preview API.</p></div><p>通过引入结构化并发 API 来简化并发编程。结构化并发将不同线程中运行的相关任务组视为单个工作单元，从而简化错误处理和取消，提高可靠性并增强可观测性。这是一个预览 API。</p><p><a class="route-link" href="/java/new-features/structured-concurrency-guide.html">结构化并发</a></p><h2 id="jep-506-作用域值" tabindex="-1"><a class="header-anchor" href="#jep-506-作用域值"><span>JEP 506：作用域值</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 506: Scoped Values</p><p>Introduce scoped values, which enable a method to share immutable data both with its callees within a thread, and with child threads. Scoped values are easier to reason about than thread-local variables. They also have lower space and time costs, especially when used together with virtual threads (JEP 444) and structured concurrency (JEP 505).</p></div><p>引入作用域值，使方法能够与线程中的被调用方以及子线程共享不可变数据。作用域值比线程局部变量更容易推理。它们还具有较低的空间和时间成本，特别是当与虚拟线程（JEP 444）和结构化并发（JEP 505）一起使用时。</p><p>有一个小的更改：ScopedValue.orElse 方法不再接受 null 作为其参数。</p><p><a class="route-link" href="/java/new-features/scoped-values-guide.html">作用域值</a></p><h2 id="jep-507-模式、instanceof-和-switch中的原始类型-第三次预览" tabindex="-1"><a class="header-anchor" href="#jep-507-模式、instanceof-和-switch中的原始类型-第三次预览"><span>JEP 507：模式、instanceof 和 switch中的原始类型（第三次预览）</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 507: Primitive Types in Patterns, instanceof, and switch (Third Preview)</p><p>Enhance pattern matching by allowing primitive types in all pattern contexts, and extend instanceof and switch to work with all primitive types. This is a preview language feature.</p></div><p>通过允许在所有模式上下文中使用原始类型来增强模式匹配，并扩展 instanceof 和 switch 以使用所有原始类型。这是一个预览语言功能。</p><p><a class="route-link" href="/java/new-features/primitive-types-in-patterns-instanceof-and-switch.html">模式、instanceof 和 switch中的原始类型</a></p><h2 id="jep-508-向量-api-第十次孵化" tabindex="-1"><a class="header-anchor" href="#jep-508-向量-api-第十次孵化"><span>JEP 508：向量 API（第十次孵化）</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 508: Vector API (Tenth Incubator)</p><p>Introduce an API to express vector computations that reliably compile at runtime to optimal vector instructions on supported CPUs, thus achieving performance superior to equivalent scalar computations.</p></div><p>引入一个 API 来表达矢量计算，这些计算在运行时可靠地编译为受支持的 CPU 上的最佳矢量指令，从而实现优于等效标量计算的性能。</p><h2 id="jep-509-jep-509-jfr-cpu-时间分析-实验性" tabindex="-1"><a class="header-anchor" href="#jep-509-jep-509-jfr-cpu-时间分析-实验性"><span>JEP 509： JEP 509：JFR CPU 时间分析（实验性）</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 509: JFR CPU-Time Profiling (Experimental)</p><p>Enhance the JDK Flight Recorder (JFR) to capture more accurate CPU-time profiling information on Linux. This is an experimental feature.</p></div><p>增强 JDK 飞行记录器 （JFR） 以在 Linux 上捕获更准确的 CPU 时间分析信息。这是一个实验性功能。</p><h2 id="jep-510-密钥派生函数-api" tabindex="-1"><a class="header-anchor" href="#jep-510-密钥派生函数-api"><span>JEP 510：密钥派生函数 API</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 510: Key Derivation Function API</p><p>Introduce an API for Key Derivation Functions (KDFs), which are cryptographic algorithms for deriving additional keys from a secret key and other data.</p></div><p>引入密钥派生函数（KDF）的 API，这是一种用于从密钥和其他数据派生其他密钥的加密算法。</p><h2 id="jep-511-模块导入声明" tabindex="-1"><a class="header-anchor" href="#jep-511-模块导入声明"><span>JEP 511：模块导入声明</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 511: Module Import Declarations</p><p>Enhance the Java programming language with the ability to succinctly import all of the packages exported by a module. This simplifies the reuse of modular libraries, but does not require the importing code to be in a module itself.</p></div><p>通过简洁地导入模块导出的所有包的功能来增强 Java 编程语言。这简化了模块库的重用，但不要求导入代码本身必须在模块中。</p><h2 id="jep-512-压缩源文件和实例主方法" tabindex="-1"><a class="header-anchor" href="#jep-512-压缩源文件和实例主方法"><span>JEP 512：压缩源文件和实例主方法</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 512: Compact Source Files and Instance Main Methods</p><p>Evolve the Java programming language so that beginners can write their first programs without needing to understand language features designed for large programs. Far from using a separate dialect of the language, beginners can write streamlined declarations for single-class programs and then seamlessly expand their programs to use more advanced features as their skills grow. Experienced developers can likewise enjoy writing small programs succinctly, without the need for constructs intended for programming in the large.</p></div><p>发展 Java 编程语言，使初学者无需了解专为大型程序设计的语言功能，即可编写自己的第一个程序。初学者无需使用某种独立的语言变体，即可为单类程序编写简化的声明，然后随着技能的增长无缝扩展他们的程序以使用更高级的功能。经验丰富的开发者同样可以简洁地编写小型程序，而不必使用那些为大规模编程设计的结构。</p><p>简单说就是省略显式类声明和 public static 修饰符，简化输出语句，来简化入门代码和脚本开发。</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Java 23!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 隐式调用 System.out.println</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>改动点：</p><ul><li>将简单的源文件重命名为紧凑的源文件</li><li>用于基本控制台 I/O 的新 IO 类现在位于 java.lang 包中，被每个源文件隐式导入。</li><li>IO 类的静态方法不再隐式导入到紧凑的源文件中。因此，这些方法的调用必须命名类，例如<code>IO.println(&quot;Hello, world!&quot;)</code>， 除非显式导入这些方法。</li><li>IO 类的实现现在基于<code>System.out</code>和<code>System.in</code>， 而不是<code>java.io.Console</code> 类。</li></ul><h2 id="jep-513-灵活的构造函数体" tabindex="-1"><a class="header-anchor" href="#jep-513-灵活的构造函数体"><span>JEP 513：灵活的构造函数体</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 513: Flexible Constructor Bodies</p><p>In the body of a constructor, allow statements to appear before an explicit constructor invocation, i.e., super(...) or this(...). Such statements cannot reference the object under construction, but they can initialize its fields and perform other safe computations. This change allows many constructors to be expressed more naturally. It also allows fields to be initialized before they become visible to other code in the class, such as methods called from a superclass constructor, thereby improving safety.</p></div><p>在构造函数体内，允许在显式构造函数调用（即 super(...) 或 this(...)）之前出现语句。这些语句不能引用正在构造的对象，但可以初始化其字段并执行其他安全计算。这一变化使许多构造函数能够更自然地表达。它还允许在字段对类中其他代码（如从超类构造函数调用的方法）可见之前对其进行初始化，从而提高安全性。</p><h2 id="jep-514-超前命令行" tabindex="-1"><a class="header-anchor" href="#jep-514-超前命令行"><span>JEP 514：超前命令行</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 514: Ahead-of-Time Command-Line Ergonomics</p><p>Make it easier to create ahead-of-time caches, which accelerate the startup of Java applications, by simplifying the commands required for common use cases.</p></div><p>这项改进旨在简化创建 Java AOT（提前编译）缓存的命令，让普通开发者更容易使用这项高级技术，从而大幅缩短 Java 应用的启动时间。</p><p>在之前的 Java 版本中，创建 AOT 缓存非常复杂：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">java</span> <span class="token parameter variable">-XX:+UnlockExperimentalVMOptions</span> <span class="token parameter variable">-XX:AOTLibrary</span><span class="token operator">=</span>./app_cache.so <span class="token parameter variable">-XX:SharedArchiveFile</span><span class="token operator">=</span>./app_cached.jsa <span class="token parameter variable">-Xshare:dump</span> <span class="token parameter variable">-cp</span> myapp.jar com.example.MainClass</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>新版本简化了这个过程：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">java</span> <span class="token parameter variable">-Xaot:force</span> <span class="token parameter variable">-jar</span> myapp.jar</span>
<span class="line"><span class="token comment"># 或者</span></span>
<span class="line"><span class="token function">java</span> <span class="token parameter variable">-Xaot:generate</span> <span class="token parameter variable">-jar</span> myapp.jar</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这项改进使得 Java 开发者能够<strong>通过简单的命令参数，就能获得类似原生编译语言的启动速度，同时保持 Java 的跨平台优势和运行时优化能力</strong>。这标志着 Java 在云原生时代的重要进化，让高性能 Java 应用的门槛大大降低。</p><h2 id="jep-515-超前方法剖析" tabindex="-1"><a class="header-anchor" href="#jep-515-超前方法剖析"><span>JEP 515：超前方法剖析</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 515: Ahead-of-Time Method Profiling</p><p>Improve warmup time by making method-execution profiles from a previous run of an application instantly available, when the HotSpot Java Virtual Machine starts. This will enable the JIT compiler to generate native code immediately upon application startup, rather than having to wait for profiles to be collected.</p></div><p>当 HotSpot Java 虚拟机启动时，可立即从应用程序的上一次运行中获取方法执行配置文件，从而缩短预热时间。这将使 JIT 编译器能在应用程序启动时立即生成本地代码，而无需等待收集配置文件。</p><h3 id="要解决的问题-java-启动后的-热身-阶段过慢" tabindex="-1"><a class="header-anchor" href="#要解决的问题-java-启动后的-热身-阶段过慢"><span>要解决的问题：Java 启动后的“热身”阶段过慢</span></a></h3><p>HotSpot JVM 刚启动时，所有字节码都运行在解释模式下，速度很慢。为了让热点方法（频繁调用的方法）达到最佳性能，JVM 必须经历以下阶段：</p><ol><li>解释执行 → 收集调用次数、分支频率等运行时剖析数据（profiling data）。</li><li>JIT 编译器 → 根据剖析数据生成高度优化的本地机器码。</li><li>替换执行 → 把解释执行切换到本地机器码，性能飙升。 这段“先解释、再编译、再切换”的时间就是常说的 warm-up（热身）时间 。 在大型应用里，warm-up 可能持续 数秒到数分钟 ，对云原生、Serverless、短生命周期任务极不友好。</li></ol><h3 id="jep-515-如何工作-直接复用上一次运行的剖析数据" tabindex="-1"><a class="header-anchor" href="#jep-515-如何工作-直接复用上一次运行的剖析数据"><span>JEP 515 如何工作：直接复用上一次运行的剖析数据</span></a></h3><p>JEP 515 的思路可以概括为一句话： “把上一次运行得到的剖析数据持久化到磁盘，下一次启动时直接加载。”</p><h3 id="如何启用" tabindex="-1"><a class="header-anchor" href="#如何启用"><span>如何启用</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">java</span> <span class="token parameter variable">-XX:+UseAOTMethodProfiles</span> <span class="token parameter variable">-XX:AOTProfilePath</span><span class="token operator">=</span>./myapp.prof <span class="token parameter variable">-jar</span> myapp.jar</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><p>这项改进的本质是：将&quot;学习成本&quot;从运行时提前到构建时或第一次运行时，通过复用之前运行的经验来避免重复的学习过程。 就像一位经验丰富的司机： 传统方式：每次开车都要重新熟悉路况 新方式：使用之前的导航记录，一上路就知道最优路线</p><h2 id="jep-518-jfr-协作式采样" tabindex="-1"><a class="header-anchor" href="#jep-518-jfr-协作式采样"><span>JEP 518：JFR 协作式采样</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 518: JFR Cooperative Sampling</p><p>Improve the stability of the JDK Flight Recorder (JFR) when it asynchronously samples Java thread stacks. Achieve this by walking call stacks only at safepoints, while minimizing safepoint bias.</p></div><p>提高 JDK Flight Recorder (JFR) 异步采样 Java 线程堆栈时的稳定性。为此，我们只在安全点处走查调用堆栈，同时尽量减少安全点偏差。</p><h3 id="问题-异步采样为何不稳定" tabindex="-1"><a class="header-anchor" href="#问题-异步采样为何不稳定"><span>问题：异步采样为何不稳定？</span></a></h3><ul><li>异步采样 指 JFR 在 不停止业务线程 的情况下，随时抓取线程的调用栈。</li><li>旧实现直接在任意时刻“爬栈”，会遇到两类崩溃：</li></ul><ol><li>线程正好在执行 JIT 刚编译完但尚未完全同步的代码 ，栈帧结构不完整 → 爬栈越界。</li><li>线程正在 去优化（deoptimization） 的临界区 → 栈信息不一致。 结果：JVM 偶尔 crash，或者采样数据出现“幽灵栈帧”。</li></ol><h3 id="旧方案的权衡-要么-安全-要么-失真" tabindex="-1"><a class="header-anchor" href="#旧方案的权衡-要么-安全-要么-失真"><span>旧方案的权衡：要么“安全”要么“失真”</span></a></h3><table><thead><tr><th>方案</th><th>做法</th><th>缺点</th></tr></thead><tbody><tr><td>Stop-the-world</td><td>让所有线程进入 safepoint 后再采样</td><td>业务停顿（几十毫秒），破坏低延迟场景</td></tr><tr><td>冒险异步</td><td>直接爬栈，不做全局停顿</td><td>不稳定，可能 JVM 崩溃</td></tr></tbody></table><h3 id="新方案-只在-safepoint-采样-但最小化-safepoint-偏差" tabindex="-1"><a class="header-anchor" href="#新方案-只在-safepoint-采样-但最小化-safepoint-偏差"><span>新方案：只在 safepoint 采样，但最小化 safepoint 偏差</span></a></h3><ul><li>核心思想 <ul><li>把“采样请求”投递给目标线程，线程自愿在下一个 safepoint 完成采样；采样动作仍由业务线程自己执行，但必须在 safepoint 内完成，保证栈结构一致。</li></ul></li><li>关键机制 <ul><li>协作标志 <ul><li>JFR 给每个 Java 线程置位一个<code>_should_sample_at_safepoint</code>标志。</li></ul></li><li>safepoint 轮询：线程在 safepoint 检查点发现该标志为真，立即： <ul><li>保存当前 rbp/rsp 等寄存器 → 构建可信栈帧。</li><li>把栈信息写入 JFR 缓冲区。</li></ul></li><li>偏差控制 <ul><li>不强制全局停顿：仅对“被采样线程”做一次轻量级 handshake，其他线程继续跑。</li><li>时间窗口限制：若线程长时间未进入 safepoint（例如死循环内无 safepoint poll），采样请求超时放弃，避免饥饿。</li></ul></li></ul></li><li>实现细节 <ul><li>Handshakes（JDK 15+ 引入）：单线程级 safepoint，不波及整个 JVM。</li><li>偏向采样：默认只采样“运行中”线程，sleep/block 的线程直接跳过，减少无效 safepoint。</li><li>自适应阈值：根据历史采样成功率动态调整超时时间，防止过度放弃或过度停顿。</li></ul></li></ul><h3 id="一句话总结" tabindex="-1"><a class="header-anchor" href="#一句话总结"><span>一句话总结</span></a></h3><p>JEP 518 把 “安全”与“低延迟” 从对立变为兼得 —— 线程自己走进安全点采样，既保证栈可信，又把停顿缩小到单线程级。</p><h2 id="jep-519-紧凑对象头" tabindex="-1"><a class="header-anchor" href="#jep-519-紧凑对象头"><span>JEP 519：紧凑对象头</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 519: Compact Object Headers</p><p>Change compact object headers from an experimental feature to a product feature.</p></div><p>将紧凑对象头从实验功能改为产品功能。</p><h3 id="核心原理" tabindex="-1"><a class="header-anchor" href="#核心原理"><span>核心原理</span></a></h3><p>Java 对象在堆中的存储包含<strong>对象头</strong>和<strong>实例数据</strong>。对象头又分为：</p><ul><li><strong>标记字 (Mark Word)</strong>：存储哈希码、GC 年龄、锁状态、线程持有的锁、偏向线程ID、偏向时间戳等运行时数据。</li><li><strong>类指针 (Class Pointer)</strong>：指向对象的类元数据。</li><li><strong>数组长度</strong>：数组对象的头部还会额外包含该字段。</li></ul><p>在 64 位 JVM 中，普通对象头通常占 <strong>12字节（96位） 至 16字节（128位）</strong>。对于许多平均大小仅为 32-64 字节的小对象来说，对象头的开销占比非常高，可能达到 <strong>20% 到 50%</strong>。JEP 450 通过以下方式将对象头压缩至 <strong>64 位 (8 字节)</strong>：</p><ul><li><strong>压缩类指针</strong>：将原本 32 位的压缩类指针进一步优化为 <strong>22 位</strong>，并将其编码嵌入标记字中。</li><li><strong>标记字的功能重组与升级</strong>：对固定的 64 位标记字空间进行了彻底的重新规划，将其划分为一个精细的功能位域集合，以同时承载原有和新增的信息</li><li><strong>锁机制革新</strong>：传统的<strong>偏向锁</strong> 和<strong>轻量级锁</strong> 会覆盖整个标记字（除锁标记位外），与紧凑对象头中必须保留类指针的设计冲突。因此，<strong>紧凑对象头不再支持偏向锁和栈锁</strong>。它依赖 <strong>JDK 22 中引入的对象监视表</strong> 来管理重量级锁信息。</li></ul><h3 id="新旧对象头布局对比" tabindex="-1"><a class="header-anchor" href="#新旧对象头布局对比"><span>新旧对象头布局对比</span></a></h3><p>为了更直观地理解其变化，可以参考下表对传统对象头与紧凑对象头进行的对比：</p><h4 id="java传统对象头" tabindex="-1"><a class="header-anchor" href="#java传统对象头"><span>Java传统对象头</span></a></h4><p><strong>传统对象头大小</strong></p><table><thead><tr><th style="text-align:left;">是否压缩</th><th style="text-align:left;">对象类型</th><th style="text-align:left;">大小</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">压缩</td><td style="text-align:left;">普通对象</td><td style="text-align:left;">12字节（96位）</td><td style="text-align:left;">标记字8B（64位）+ 类指针4B（32位）</td></tr><tr><td style="text-align:left;">压缩</td><td style="text-align:left;">数组对象</td><td style="text-align:left;">16字节（128位）</td><td style="text-align:left;">标记字8B（64位）+ 类指针4B（32位）<br>+ 数组长度4B（32位）</td></tr><tr><td style="text-align:left;">未压缩</td><td style="text-align:left;">普通对象</td><td style="text-align:left;">16字节（128位）</td><td style="text-align:left;">标记字8B（64位）+ 类指针8B（64位）</td></tr><tr><td style="text-align:left;">未压缩</td><td style="text-align:left;">数组对象</td><td style="text-align:left;">20字节（160位）</td><td style="text-align:left;">标记字8B（64位）+ 类指针8B（64位）<br>+ 数组长度4B（32位）</td></tr></tbody></table><p><strong>传统对象头标记字（Mark Word）</strong></p><table><thead><tr><th>状态</th><th>锁状态</th><th>偏向锁</th><th>GC分代<br>年龄</th><th>未使用</th><th>其他</th></tr></thead><tbody><tr><td>无锁状态</td><td>01</td><td>0</td><td>4位</td><td>1位</td><td>哈希码（31位）+ 未使用（25位）</td></tr><tr><td>偏向锁状态</td><td>01</td><td>1</td><td>4位</td><td>1位</td><td>线程ID（54位）+ epoch（2位）</td></tr><tr><td>轻量级锁状态</td><td>00</td><td colspan="4">指向锁记录的指针（62位）</td></tr><tr><td>重量级锁状态</td><td>10</td><td colspan="4">指向Monitor的指针（62位）</td></tr><tr><td>GC 分代年龄</td><td>11</td><td colspan="4">GC所需标记信息</td></tr></tbody></table><h4 id="紧凑对象头" tabindex="-1"><a class="header-anchor" href="#紧凑对象头"><span>紧凑对象头</span></a></h4><table><thead><tr><th style="text-align:left;">标记位</th><th style="text-align:left;">自转发标记位</th><th style="text-align:left;">GC分代年龄</th><th style="text-align:left;">预留</th><th style="text-align:left;">哈希码</th><th style="text-align:left;">压缩类指针</th></tr></thead><tbody><tr><td style="text-align:left;">2位</td><td style="text-align:left;">1位</td><td style="text-align:left;">4位</td><td style="text-align:left;">4位</td><td style="text-align:left;">31位</td><td style="text-align:left;">22位</td></tr></tbody></table><h3 id="启用方式" tabindex="-1"><a class="header-anchor" href="#启用方式"><span>启用方式</span></a></h3><p>Java 24 中，紧凑对象头是实验性功能，需要特定 JVM 参数启用，Java 25 成为正式功能，无需手动启动。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token parameter variable">-XX:+UnlockExperimentalVMOptions</span> <span class="token parameter variable">-XX:+UseCompactObjectHeaders</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="适用场景" tabindex="-1"><a class="header-anchor" href="#适用场景"><span>适用场景</span></a></h3><p>紧凑对象头尤其适用于以下场景：</p><ul><li><strong>大量小对象</strong>的应用（如微服务、DTO、缓存元素）。</li><li><strong>内存敏感型</strong>工作负载（希望降低内存占用和提高部署密度）。</li><li><strong>关注缓存效率和高吞吐量</strong>的应用。</li></ul><p>在决定是否启用时，需考虑：</p><ul><li><strong>应用程序特性</strong>：若应用严重依赖偏向锁，需评估其影响。</li><li><strong>GC 选择</strong>：目前该特性主要支持 G1 和 Parallel GC。对于 ZGC 的支持尚未完成。</li><li><strong>类加载数量</strong>：确保应用加载的类数量远低于 400 万的上限。</li></ul><h2 id="jep-520-jfr-方法时序和跟踪" tabindex="-1"><a class="header-anchor" href="#jep-520-jfr-方法时序和跟踪"><span>JEP 520：JFR 方法时序和跟踪</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 520: JFR Method Timing &amp; Tracing</p><p>Extend the JDK Flight Recorder (JFR) with facilities for method timing and tracing via bytecode instrumentation.</p></div><p>通过字节码检测扩展 JDK Flight Recorder （JFR），提供方法计时和跟踪功能。</p><h2 id="jep-521-分代-shenandoah" tabindex="-1"><a class="header-anchor" href="#jep-521-分代-shenandoah"><span>JEP 521：分代 Shenandoah</span></a></h2><div class="hint-container info"><p class="hint-container-title">JEP 521: Generational Shenandoah</p><p>Change the generational mode of the Shenandoah garbage collector from an experimental feature to a product feature.</p></div><p>将 Shenandoah 垃圾收集器的分代模式从实验功能改为产品功能。</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2025-09-15T08:16:08.000Z" data-allow-mismatch>2025/9/15 08:16</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3036190149@qq.com">zhaomy</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><!----><a class="route-link auto-link next" href="/java/new-features/java-24-features.html" aria-label="Java 24 新特性"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">Java 24 新特性</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-ty-Ai2oG.js" defer></script>
  </body>
</html>

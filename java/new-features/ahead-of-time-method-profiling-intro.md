
### 要解决的问题：Java 启动后的“热身”阶段过慢

HotSpot JVM 刚启动时，所有字节码都运行在解释模式下，速度很慢。为了让热点方法（频繁调用的方法）达到最佳性能，JVM 必须经历以下阶段：
1. 解释执行 → 收集调用次数、分支频率等运行时剖析数据（profiling data）。
2. JIT 编译器 → 根据剖析数据生成高度优化的本地机器码。
3. 替换执行 → 把解释执行切换到本地机器码，性能飙升。
这段“先解释、再编译、再切换”的时间就是常说的 warm-up（热身）时间 。 在大型应用里，warm-up 可能持续 数秒到数分钟 ，对云原生、Serverless、短生命周期任务极不友好。

### JEP 515 如何工作：直接复用上一次运行的剖析数据

JEP 515 的思路可以概括为一句话：
“把上一次运行得到的剖析数据持久化到磁盘，下一次启动时直接加载。”

### 如何启用

```bash
java -XX:+UseAOTMethodProfiles -XX:AOTProfilePath=./myapp.prof -jar myapp.jar
```

### 总结
这项改进的本质是：将"学习成本"从运行时提前到构建时或第一次运行时，通过复用之前运行的经验来避免重复的学习过程。
就像一位经验丰富的司机：
传统方式：每次开车都要重新熟悉路况
新方式：使用之前的导航记录，一上路就知道最优路线
